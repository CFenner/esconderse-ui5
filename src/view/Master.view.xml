<mvc:View
	controllerName="de.esconderse.view.Master"
	displayBlock="true"
	xmlns:l="sap.ui.layout"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns="sap.m">
	<Page
		title="{i18n>masterTitle}">
		<subHeader>
			<Bar>
				<contentMiddle>
					<SearchField
						width="100%"
						tooltip="{i18n>masterSearchTooltip}"
            			showRefreshButton="{device>/isNoTouch}"
            			search="onSearch"
            			liveChange="onSearch" >
					</SearchField>
				</contentMiddle>
			</Bar>
		</subHeader>
		<content>
 		   	<PullToRefresh
        		id="pullToRefresh"
	    	    visible="{device>/isTouch}"
				refresh="doRefresh"/>
			<List
				id="mailList"
				items="{/}"
				mode="{device>/listMode}"
				noDataText="{i18n>masterListNoDataText}"
				selectionChange="onForward">
				<items>
					<ObjectListItem
						press="onForward"
						type="{device>/listItemType}"
						title="{description}"
						icon="{
							path: 'status', 
							formatter: 'de.esconderse.util.Formatter.statusIcon'
						}">
						<customData>
							<core:CustomData 
								key="class" 
								value="{
									path: 'status', 
									formatter: 'de.esconderse.util.Formatter.statusSetClass'
								}"/>
						</customData>
					</ObjectListItem>
				</items>
			</List>
		</content>
		<footer>
			<Bar>
				<contentLeft>
					<Button 
						tooltip="{i18n>masterFooterHomeButtonTooltip}"
						icon="sap-icon://home" 
						press="onHome"/>
					<Button 
						tooltip="{i18n>masterFooterHomeButtonTooltip}"
						icon="" 
						text="Logout"
						press="onLogout"
						visible="{account>/auth}"/>
				</contentLeft>
				<contentMiddle>
					<ScrollContainer visible="{account>/unauth}">
						<html:a href="#" onclick="navigator.id.request();" class="persona-button dark">
							<html:span style="text-align: center;">SignIn</html:span>
						</html:a>
					</ScrollContainer>
				</contentMiddle>
				<contentRight>
					<Button 
						tooltip="{i18n>masterFooterUsageButtonTooltip}"
						icon="sap-icon://bar-chart" 
						press="onMenuUsage"
						visible="{account>/auth}"/>
					<Button 
						tooltip="{i18n>masterFooterFilterButtonTooltip}"
						icon="sap-icon://filter" 
						press="onMenuFilter"
						visible="{account>/auth}"/>
					<Button
						tooltip="{i18n>masterFooterAddButtonTooltip}"
						icon="sap-icon://add"
						press="onNew"
						visible="{account>/auth}"/>
				</contentRight>
			</Bar>
		</footer>
	</Page>
</mvc:View>
