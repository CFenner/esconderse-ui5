<mvc:View
	controllerName="de.esconderse.view.Forward"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m">
	<Page
		id="pageForward"
		showNavButton="{device>/isPhone}"
		navButtonPress="onNavBack"
		class="sapUiFioriObjectPage"
		title="{i18n>pageForward.title}">
		<content>
			<ObjectHeader 
				title="{description}">
				<attributes>
					<ObjectAttribute text="{email}" />
					<ObjectAttribute 
						text="{i18n>pageForward.attrCreated} {
							path: 'createDate',
							formatter: 'de.esconderse.util.Formatter.datePretty'
						}"/>
				</attributes>
				<statuses>
					<ObjectStatus 
						text="{
							parts:[
								{path: 'status'},
								{path: 'i18n>pageForward.statusActive'},
								{path: 'i18n>pageForward.statusInactive'}
							], 
							formatter: 'de.esconderse.util.Formatter.statusText'
						}" 
						tooltip="{
							parts:[
								{path: 'status'},
								{path: 'i18n>pageForward.statusActive'},
								{path: 'i18n>pageForward.statusInactive'}
							], 
							formatter: 'de.esconderse.util.Formatter.statusText'
						}"
						icon="{
							path: 'status',
							formatter: 'de.esconderse.util.Formatter.statusIcon'
						}"
						state="{
							path: 'status',
							formatter: 'de.esconderse.util.Formatter.statusState'
						}"/>
						<!--
					<ObjectStatus text="{
						path: 'createDate',
						formatter: 'de.esconderse.util.Formatter.datePretty'
					}"/>-->
				</statuses>
			</ObjectHeader>
			<IconTabBar
				id="idIconTabBar">
				<items>
<!--					<IconTabFilter
						text="{i18n>pageForward.tabTags.title}"
						tooltip="{i18n>pageForward.tabTags.tooltip}"
						icon="sap-icon://tags">
						<content>	
							<Tokenizer width="100%" editable="true" tokens="{tags}">
								<Token text="{name}" editable="false" />
							</Tokenizer>
						</content>
					</IconTabFilter>-->
					<IconTabFilter
						text="{i18n>pageForward.tabHistory.title}"
						tooltip="{i18n>pageForward.tabHistory.tooltip}"
						icon="sap-icon://history">
						<content>
							<Table id="forwardHistory"
								inset="false"
								items="{
									path: 'history'
								}">
								<!--
								,
									sorter: {
										path: 'createDate',
								        descending: true
									}
								-->
								<columns>
									<Column><Text text="{i18n>pageForward.tabHistory.table.headerMsg}" /></Column>
									<Column
										minScreenWidth="Tablet"
										demandPopin="true">
										<Text text="{i18n>pageForward.tabHistory.table.headerDate}" />
									</Column>
								</columns>
								<items>
									<ColumnListItem>
										<cells>
											<ObjectIdentifier title="{msg}, {value}"/>
											<Text
												text="{
													path: 'createDate',
													formatter: 'de.esconderse.util.Formatter.datePretty'
												}"
												tooltip="{createDate}"/>
            							</cells>
        							</ColumnListItem>
								</items>
    						</Table>
						</content>
					</IconTabFilter>
				</items>
			</IconTabBar>
		</content>
		<footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
    	    	<Button 
    	    		id="btnRename"
    	    		text="{i18n>pageForward.footer.btnRename}" 
    	    		press="onDialogRenameOpen" 
    	    		type="Emphasized" 
    	    		icon="sap-icon://edit"><!-- 
    	    		-->	
<!--                    <layoutData>
                    	<OverflowToolbarLayoutData moveToOverflow="false" />
                    </layoutData>-->
                </Button>
<!--    	    	<ToggleButton 
    	    		text="{i18n>pageForward.footer.btnDeactivate}" 
    	    		press=""
    	    		type="Reject" 
    	    		icon="sap-icon://disconnected"/>-->
    	    	<Button 
    	    		visible="{= ${status} === 0}"
    	    		id="btnActivate"
    	    		text="{i18n>pageForward.footer.btnActivate}" 
    	    		tooltip="{i18n>pageForward.footer.btnActivate}" 
    	    		press="doActivate"
    	    		type="Accept" 
    	    		icon="sap-icon://connected"/>
    	    	<Button 
    	    		visible="{= ${status} === 1}"
    	    		id="btnDeactivate"
    	    		text="{i18n>pageForward.footer.btnDeactivate}"
    	    		tooltip="{i18n>pageForward.footer.btnDeactivate}" 
    	    		press="doDeactivate"
    	    		type="Reject" 
    	    		icon="sap-icon://disconnected"/>
    	    	<OverflowToolbarButton 
    	    		enabled="{= ${status} === 1}"
    	    		id="btnDelete"
    	    		text="{i18n>pageForward.footer.btnDelete}" 
    	    		tooltip="{i18n>pageForward.footer.btnDelete}" 
    	    		press="doDelete" 
    	    		icon="sap-icon://delete"/>
            </OverflowToolbar><!--
			<Toolbar>
    	    	<ToolbarSpacer/>
    	    	<Button 
    	    		id="btnRename"
    	    		text="{i18n>pageForward.footer.btnRename}" 
    	    		press="onDialogRenameOpen" 
    	    		type="Emphasized" 
    	    		icon="sap-icon://edit"/>
    	    	<ToggleButton 
    	    		text="{i18n>pageForward.footer.btnDeactivate}" 
    	    		press=""
    	    		type="Reject" 
    	    		icon="sap-icon://disconnected"/>
    	    	<Button 
    	    		id="btnDelete"
    	    		text="{i18n>pageForward.footer.btnRemove}" 
    	    		press="doDelete"
    	    		visible="false"
    	    		type="Reject" 
    	    		icon="sap-icon://delete"/>
    	    	<Button 
    	    		id="btnActivate"
    	    		text="Activate" 
    	    		press="doActivate"
    	    		type="Accept" 
    	    		icon="sap-icon://connected"/>
    	    	<Button 
    	    		id="btnDeactivate"
    	    		text="Deactivate" 
    	    		press="doDeactivate"
    	    		type="Reject" 
    	    		icon="sap-icon://disconnected"/>
    	  	</Toolbar>-->
    	</footer>
	</Page>
</mvc:View>